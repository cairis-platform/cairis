<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title>CAIRIS Web App</title>
  <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>

  <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />

  <link href="plugins/jquery-ui-1.12.1/jquery-ui.css" rel="stylesheet" type="text/css" />
  <script src="plugins/jquery-3.1.1/jquery-3.1.1.min.js"></script> 
  <script src="plugins/jquery-ui-1.12.1/jquery-ui.js"></script> 
  <script src="plugins/jquery-migrate/jquery-migrate-3.0.0.min.js"></script> 
  <script src="plugins/trello/client.js?key=f8371ed97c21a7bab5774e45d014be3e"></script>

  <script src="bootstrap/js/bootstrap.min.js"></script> 

  <link href="plugins/font-awesome-4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
  <link href="plugins/ionicons-2.0.1/css/ionicons.min.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="plugins/mCustomScrollbar/jquery.mCustomScrollbar.css" /> 
  <script src="plugins/jquery-mousewheel/jquery.mousewheel.min.js"></script>
  <script src="plugins/mCustomScrollbar/jquery.mCustomScrollbar.js"></script> 
  <link href="dist/css/CAIRIS.css" rel="stylesheet" type="text/css" />
  <script src="plugins/editableTable/editableRAF.js"></script>
  <script src="dist/js/jquery.session.js"></script>
  <script src="plugins/svg-pan-zoom/svg-pan-zoom.min.js"></script> 
  <script src="plugins/lazyLoad/lazyload.js"></script>
  <script src="plugins/JsonPopulate/jquery.loadJSON.js"></script>
  <script src="plugins/jquery-contextmenu/jquery.contextMenu.min.js"></script>
  <script src="plugins/jquery-contextmenu/jquery.ui.position.min.js"></script>
  <link href="plugins/jquery-contextmenu/jquery.contextMenu.min.css" rel="stylesheet" type="text/css"/>
  <script src="plugins/bootstrap-validator/js/validator.js"></script> 
  <script src="plugins/js-cookie/js.cookie.js"></script> 
  <link href="plugins/d3/nv.d3.min.css" rel="stylesheet">
  <script src="plugins/d3/d3.min.js"></script>
  <script src="plugins/d3/nv.d3.min.js"></script>
  <script src="https://api.trello.com/1/client.js?key=f8371ed97c21a7bab5774e45d014be3e"></script>

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
  <![endif]-->
</head>

<body>
<div class="wrapper">

  <nav class="navbar navbar-inverse">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span> 
        </button>
        <a class="navbar-brand" id="homeClick" href="#" role="button"><span class="glyphicon glyphicon-home"></span> CAIRIS</a>
      </div>
      <div id="navbar" class="left navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li class="dropdown messages-menu">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"><span class="glyphicon glyphicon-book"></span> System<span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a id="newDatabaseClick" href="#">New Database</a></li>
              <li><a id="openClick" href="#">Open Database</a></li>
              <li><a id="deleteClick" href="#">Delete Database</a></li>
              <li><a id="newClick" href="#">New</a></li>
              <li><a id="importClick" href="#">Import Model</a></li>
              <li><a id="fromTrello" href="#">Import from Trello</a></li>
              <li><a id="exportClick" href="#">Export Model</a></li>
              <li><a id="exportArchitecturalPatternClick" href="#">Export Architectural Pattern</a></li>
              <li><a id="toTrello" href="#">Export to Trello</a></li>
              <li><a id="genDocClick" href="#">Documentation</a></li>
              <li><a id="projectClick" href="#">Properties</a></li>
            </ul>
          </li>
          <li class="dropdown messages-menu">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"><span class="glyphicon glyphicon-check"> Requirements<span class="caret"></span></a> 
            <ul class="dropdown-menu">
              <li><a id="requirementsClick" href="#">Requirements</a></li>
              <li><a id="domainPropertyMenuClick" href="#">Domain Properties</a></li>
              <li><a id="goalMenuClick" href="#">Goals</a></li>
              <li><a id="obstacleMenuClick" href="#">Obstacles</a></li>
              <li><a id="useCaseClick" href="#">Use Cases</a></li>
              <li><a id="dependenciesClick" href="#">Dependencies</a></li>
              <li><a id="architecturalPatternsClick" href="#">Architectural Patterns</a></li>
            </ul>
          </li>
          <li class="dropdown messages-menu">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"><span class="glyphicon glyphicon-flash"> Risk<span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a id="roleMenuClick" href="#">Roles</a></li>
              <li><a id="assetMenuClick" href="#">Assets</a></li>
              <li><a id="assetAssociationMenuClick" href="#">Asset Associations</a></li>
              <li><a id="attackerMenuClick" href="#">Attackers</a></li>
              <li><a id="threatMenuClick" href="#">Threats</a></li>
              <li><a id="vulnerabilityMenuClick" href="#">Vulnerabilities</a></li>
              <li><a id="riskMenuClick" href="#">Risks</a></li>
              <li><a id="responseMenuClick" href="#">Responses</a></li>
              <li><a id="countermeasureMenuClick" href="#">Countermeasures</a></li>
            </ul>
          </li>
          <li class="dropdown messages-menu">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"><span class="glyphicon glyphicon-user"> UX<span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a id="environmentMenuClick" href="#">Environments</a></li>
              <li><a id="personaMenuClick" href="#">Personas</a></li>
              <li><a id="taskMenuClick" href="#">Tasks</a></li>
              <li><a id="externalDocumentsClick" href="#">External Documents</a></li>
              <li><a id="documentReferencesClick" href="#">Document References</a></li>
              <li><a id="conceptReferencesClick" href="#">Concept References</a></li>
              <li><a id="personaCharacteristicsClick" href="#">Persona Characteristics</a></li>
              <li><a id="taskCharacteristicsClick" href="#">Task Characteristics</a></li>
              <li><a id="locationsClick" href="#">Locations</a></li>
            </ul>
          </li>
          <li class="dropdown messages-menu">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"><span class="glyphicon glyphicon-picture"> Models<span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a id="architecturalPatternModelClick" href="#">Architectural Pattern</a></li>
              <li><a id="assetModelClick" href="#">Asset</a></li>
              <li><a id="goalModelClick" href="#">Goal</a></li>
              <li><a id="locationsModelClick" href="#">Locations</a></li>
              <li><a id="misusabilityModelClick" href="#">Misusability</a></li>
              <li><a id="obstacleModelClick" href="#">Obstacle</a></li>
              <li><a id="personaModelClick" href="#">Persona</a></li>
              <li><a id="requirementModelClick" href="#">Requirement</a></li>
              <li><a id="responsibilityModelClick" href="#">Responsibility</a></li>
              <li><a id="riskModelClick" href="#">Risk</a></li>
              <li><a id="taskModelClick" href="#">Task</a></li>
            </ul>
          </li>
          <li class="dropdown messages-menu">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"><span class="glyphicon glyphicon-wrench"> Options<span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a id="assetValuesClick" href="#">Asset Values</a></li>
              <li><a id="assetTypesClick" href="#">Asset Types</a></li>
              <li><div class="divider"></li>
              <li><a id="accessRightsClick" href="#">Access Rights</a></li>
              <li><a id="protocolsClick" href="#">Protocols</a></li>
              <li><a id="privilegesClick" href="#">Privileges</a></li>
              <li><a id="surfaceTypesClick" href="#">Surface Types</a></li>
              <li><div class="divider"></li>
              <li><a id="vulnerabilityTypesClick" href="#">Vulnerability Types</a></li>
              <li><a id="vulnerabilitySeveritiesClick" href="#">Vulnerability Severities</a></li>
              <li><a id="capabilitiesClick" href="#">Capabilities</a></li>
              <li><a id="motivationsClick" href="#">Motivations</a></li>
              <li><a id="threatTypesClick" href="#">Threat Types</a></li>
              <li><a id="threatLikelihoodsClick" href="#">Threat Likelihoods</a></li>
              <li><a id="threatValuesClick" href="#">Threat Values</a></li>
              <li><a id="riskValuesClick" href="#">Risk Values</a></li>
              <li><div class="divider"></li>
              <li><a id="templateAssetsClick" href="#">Template Assets</a></li>
              <li><a id="templateRequirementsClick" href="#">Template Requirements</a></li>
              <li><a id="templateGoalsClick" href="#">Template Goals</a></li>
              <li><a id="countermeasureValuesClick" href="#">Countermeasure Values</a></li>
              <li><div class="divider"></li>
              <li><a id="traceabilityClick" href="#">Traceability</a></li>
            </ul>
          </li>
          <div class="col-sm-3 col-md-3">
            <form class="navbar-form" role="search">
              <div class="input-group">
                <input type="text" class="form-control" placeholder="Search" id="theSearchString" name="theSearchString">
                <div class="input-group-btn">
                  <button class="btn btn-default" id="FindButton" type="submit"><i class="glyphicon glyphicon-search"></i></button>
                </div>
              </div>
            </form>
          </div> 
        </ul>
      </div>
    </div>
  </nav>
  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header" style="margin-left: 5px; margin-right: 5px; margin-bottom: 5px;">
      <div id="filterrequirementscontent" class="extraContent row form-group" style="display:none">
        <div class="col-md-1">
          <label class="topCombobox control-label">Assets</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="assetsbox" ></select>
        </div>
        <div class="col-md-2">
          <label class="topCombobox control-label" for="environmentsbox">Environments</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="environmentsbox"></select>
        </div>
      </div>

      <div id="filtergoalmodelcontent" class="extraContent row form-group" style="display:none">
        <div class="col-md-1">
          <label  class="topCombobox control-label" for="gmenvironmentsbox">Environment</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="gmenvironmentsbox" ></select>
        </div>
        <div class="col-md-1">
          <label class="topCombobox control-label" for="gmgoalbox">Goal</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="gmgoalbox"></select>
        </div>
        <div class="col-md-1">
          <label  class="topCombobox control-label" for="gmusecasebox">Use Case</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="gmusecasebox"></select>
        </div>
      </div>
      <div id="filterobstaclemodelcontent" class="extraContent row form-group" style="display:none">
        <div class="col-md-1">
          <label class="topCombobox control-label" for="omenvironmentsbox">Environment</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="omenvironmentsbox" ></select>
        </div>
        <div class="col-md-1">
          <label  class="topCombobox control-label" for="omobstaclebox">Obstacle</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="omobstaclebox"></select>
        </div>
      </div>
      <div id="filterresponsibilitymodelcontent" class="extraContent row form-group" style="display:none">
        <div class="col-md-1">
          <label  class="topCombobox control-label" for="remenvironmentsbox">Environment</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="remenvironmentsbox" ></select>
        </div>
        <div class="col-md-1">
          <label  class="topCombobox control-label" for="remrolebox">Role</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="remrolebox"></select>
        </div>
      </div>
      <div id="filtertaskmodelcontent" class="extraContent row form-group" style="display:none">
        <div class="col-md-1">
          <label  class="topCombobox control-label" for="tmenvironmentsbox">Environment</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="tmenvironmentsbox" ></select>
        </div>
        <div class="col-md-1">
          <label class="topCombobox control-label" for="tmtaskbox">Task</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="tmtaskbox"></select>
        </div>
        <div class="col-md-1">
          <label  class="topCombobox control-label" for="tmmisusecasebox">Misuse Case</label>
        </div>
        <div class="col-md-1">
          <select class="topCombobox form-control" id="tmmisusecasebox"></select>
        </div>
      </div>
      <div id="filterapmodelcontent" class="extraContent row form-group" style="display:none">
        <div class="col-md-1">
          <label class="topCombobox control-label" for="appersonasbox">Persona</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="appersonasbox" ></select>
        </div>
        <div class="col-md-2">
          <label class="topCombobox control-label" for="apbtbox">Behaviour Type</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="apbtbox">
            <option value="All">All</option>
            <option value="Activities">Activities</option>
            <option value="Attitudes">Attitudes</option>
            <option value="Aptitudes">Aptitudes</option>
            <option value="Motivations">Motivations</option>
            <option value="Skills">Skills</option>
            <option value="Environment Narrative">Environment Narrative</option>
            <option value="Intrinsic">Intrinsic</option>
            <option value="Contextual">Contextual</option>
          </select>
        </div>
        <div class="col-md-1">
          <label class="topCombobox control-label" for="apcharacteristicbox">Characteristic</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="apcharacteristicbox"></select>
        </div>
      </div>
      <div id="filterriskmodelcontent" class="extraContent row form-group" style="display:none">
        <div class="col-md-1">
          <label class="topCombobox control-label" for="rmenvironmentsbox">Environment</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="rmenvironmentsbox" ></select>
        </div>
        <div class="col-md-1">
          <label class="topCombobox control-label" for="rmdimensionbox">Type</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="rmdimensionbox">
            <option value="all">All</option>
            <option value="asset">Asset</option>
            <option value="attacker">Attacker</option>
            <option value="countermeasure">Countermeasure</option>
            <option value="misusecase">Misuse Case</option>
            <option value="obstacle">Obstacle</option>
            <option value="requirement">Requirement</option>
            <option value="response">Response</option>
            <option value="risk">Risk</option>
            <option value="role">Role</option>
            <option value="task">Task</option>
            <option value="threat">Threat</option>
            <option value="vulnerability">Vulnerability</option>
          </select>
        </div>
        <div class="col-md-1">
          <label  class="topCombobox control-label" for="rmobjectbox">Name</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="rmobjectbox"></select>
        </div>
        <div class="col-md-1">
          <label class="topCombobox control-label" for="rmlayout">Type</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="rmlayout">
            <option value="Hierarchical">Hierarchical</option>
            <option value="Spring">Spring</option>
            <option value="Radial">Radial</option>
            <option value="Circular">Circular</option>
          </select>
        </div>
      </div>
      <div id="filterassetmodelcontent" class="extraContent row form-group" style="display:none">
        <div class="col-md-2">
          <label class="topCombobox control-label" for="amenvironmentsbox">Environments</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="amenvironmentsbox" ></select>
        </div>
        <div class="col-md-1">
          <label class="topCombobox control-label" for="amassetsbox">Assets</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="amassetsbox" ></select>
        </div>
        <div class="col-md-1">
          <label class="topCombobox control-label" for="amconcernsbox">Hide Concerns</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="amconcernsbox">
            <option value="Yes">Yes</option>
            <option value="No">No</option>
          </select>
        </div>
      </div>
      <div id="filterconceptmapmodelcontent" class="extraContent row form-group" style="display:none">
        <div class="col-md-2">
          <label class="topCombobox control-label" for="cmenvironmentsbox">Environments</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="cmenvironmentsbox" ></select>
        </div>
        <div class="col-md-1">
          <label class="topCombobox control-label" for="cmrequirementsbox">Requirements</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="cmrequirementsbox" ></select>
        </div>
      </div>
      <div id="filterarchitecturalpatternmodelcontent" class="extraContent row form-group" style="display:none">
        <div class="col-md-2">
          <label class="topCombobox control-label" for="aparchitecturalpatternsbox">Architectural Patterns</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="aparchitecturalpatternsbox" ></select>
        </div>
      </div>
      <div id="filtermisusabilitymodelcontent" class="extraContent row form-group" style="display:none">
        <div class="col-md-2">
          <label class="topCombobox control-label" for="mmmisusabilitycasesbox">Misusability Cases</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="mmmisusabilitycasesbox" ></select>
        </div>
        <div class="col-md-1">
          <label class="topCombobox control-label" for="mmtaskcharacteristicsbox">Characteristic</label>
        </div>
        <div class="col-md-2">
          <select class="topCombobox form-control" id="mmtaskcharacteristicsbox" ></select>
        </div>
      </div>

    </section>
    <!-- Main content -->
    <section id="maincontent" class="content" style="margin-left: 5px; margin-right: 5px">
      <table id="mainTable"class="theTable table table-striped table-bordered sortable">
        <thead class="thead-inverse"></thead>
        <tbody>
        </tbody>
      </table>
      <div id="svgViewer"></div>
      <div id="homePanel">
        <div id="filtersummarytables" class="extraContent row form-group">
          <div class="col-md-1">
            <label class="topCombobox control-label" for="summaryenvironmentsbox">Environment</label>
          </div>
          <div class="col-md-2">
            <select class="topCombobox form-control" id="summaryenvironmentsbox"></select>
          </div>
        </div>
        <div class="row">
          <div id="vulnerabilitySummary" class="col-md-4">
            <label class="control-label">Vulnerability Summary</label>
            <svg style="height:400px"></svg>
          </div>
          <div id="threatSummary" class="col-md-4">
            <label class="control-label">Threat Summary</label>
            <svg style="height:400px"></svg>
          </div>
          <div id="riskSummary" class="col-md-4">
            <label class="control-label">Risk Summary</label>
            <svg style="height:400px"></svg>
          </div>
        </div>
      </div>
      <div id="objectViewer" class="no-print"></div>
    </section><!-- /.content -->
    </div><!-- /.content-wrapper -->
    <!-- rightnav -->
    <div id="rightnavGear" class="no-print"
      style="display:none;position: fixed; top: 100px; right: 0px; border-radius: 5px 0px 0px 5px; padding: 10px 15px; font-size: 16px; z-index: 100; cursor: pointer; color: rgb(60, 141, 188); box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 3px; background: rgb(255, 255, 255);">
      <i class="fa fa-gear"></i>
    </div>
    <div id="rightnavMenu" class="no-print"
      style="padding: 10px; position: fixed; top: 100px; right: -400px; border: 0px solid rgb(221, 221, 221); width: 400px; z-index: 100; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 3px; background: rgb(255, 255, 255);">
      <h4 id="optionsHeaderGear" class="text-light-blue" style="margin: 0 0 5px 0; border-bottom: 1px solid #ddd; padding-bottom: 15px;">Options</h4>
      <div id="optionsContent"></div>
    </div>
    <footer class="main-footer">
      <!-- Default to the left -->
      <div id="inform"></div>
    </footer>
    <!-- The configuration dialog window-->
  </div>

  <div class="modal fade" id="chooseEnvironment" tabindex="-1" role="dialog" aria-labelledby="ce_label">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="chooseTitle">Choose the environment</h4>
        </div>
        <div class="modal-body">
          <select class="form-control" id="chooseEnvironmentSelect">
          </select>
        </div>
        <div class="modal-footer">
          <div class="form-group col-md-2 col-md-offset-5">
            <button type="button" id="chooseEnvironmentButton" class="btn btn-primary">Ok</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="attackTreeImportDialog" tabindex="-1" role="dialog" aria-labelledby="atid_label">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="chooseTitle">Provide environment and contributor</h4>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="theAttackTreeEnvironment" class="control-label">Environment</label>
            <select class="form-control" id="theAttackTreeEnvironment">
            </select>
          </div>
          <div class="form-group">
            <label for="theAttackTreeContributor" class="control-label">Contributor</label>
            <input class="optionsInput form-control" type="text" name="theAttackTreeContributor" id="theAttackTreeContributor" data-error="Contributor is required" required>
            <div class="help-block with-errors"></div>
          </div>
        </div>
        <div class="modal-footer">
          <div class="form-group col-md-2 col-md-offset-5">
            <button type="button" id="importAttackTreeButton" class="btn btn-primary">Import</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="typeOfFileDialog" tabindex="-1" role="dialog" aria-labelledby="tofd_label">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="chooseTitle">Select model type</h4>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <select name="theImportModelType" id="theImportModelType" class="form-control">
              <option>Model</option>
              <option>Project data</option>
              <option>Requirements</option>
              <option>Risk Analysis</option>
              <option>Usability</option>
              <option>Misusability</option>
              <option>Associations</option>
              <option>Threat and Vulnerability Types</option>
              <option>Domain Values</option>
              <option>Threat and Vulnerability Directory</option>
              <option>Security Pattern</option>
              <option>Architectural Pattern</option>
              <option>Attack Pattern</option>
              <option>Synopses</option>
              <option>Assets</option>
              <option>Processes</option>
              <option>Locations</option>
              <option>Attack Tree (Dot)</option>
            </select>
          </div>
          </br>
          <div class="form-group">
            <input class="form-control" type="file" accept="text/xml+vnd.graphviz" onchange="readImportFile(event)" id="theImportModelFile" name="theImportModelFile" /> 
          </div> 
        </div>
        <div class="modal-footer">
          <div class="form-group col-md-2 col-md-offset-5">
            <button type="button" id="importModelFileButton" class="btn btn-primary">Import</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="chooseLocationsEnvironmentDialog" tabindex="-1" role="dialog" aria-labelledby="cled_label">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="chooseTitle">Choose the location and environment</h4>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="chooseLELocationsSelector" class="control-label">Locations</label>
            <select class="form-control" id="chooseLELocationsSelector">
            </select>
          </div>
          <div class="form-group">
            <label for="chooseLEEnvironmentsSelector" class="control-label">Environment</label>
            <select class="form-control" id="chooseLEEnvironmentsSelector">
            </select>
          </div>
        </div>
        <div class="modal-footer">
          <div class="form-group col-md-2 col-md-offset-5">
            <button type="button" id="chooseLocationEnvironmentButton" class="btn btn-primary">Ok</button>
          </div>
        </div>
      </div>
    </div>
  </div>


  <div class="modal fade" id="chooseDatabase" tabindex="-1" role="dialog" aria-labelledby="cd_label">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="chooseTitle">Choose the database</h4>
        </div>
        <div class="modal-body">
          <select class="form-control" id="chooseDatabaseSelect">
          </select>
        </div>
        <div class="modal-footer">
          <div class="form-group col-md-2 col-md-offset-5">
            <button type="button" id="chooseDatabaseButton" class="btn btn-primary">Ok</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="chooseArchitecturalPattern" tabindex="-1" role="dialog" aria-labelledby="cap_label">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="chooseTitle">Choose architectural pattern</h4>
        </div>
        <div class="modal-body">
          <select class="form-control" id="chooseArchitecturalPatternSelect">
          </select>
        </div>
        <div class="modal-footer">
          <div class="form-group col-md-2 col-md-offset-5">
            <button type="button" id="chooseArchitecturalPatternButton" class="btn btn-primary">Ok</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="createDatabase" tabindex="-1" role="dialog" aria-labelledby="crd_label">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="createTitle">Enter new database name</h4>
        </div>
        <div class="modal-body">
          <input class="form-control" type="text" name="theDatabaseName" id="theDatabaseName">
        </div>
        <div class="modal-footer">
          <div class="form-group col-md-2 col-md-offset-5">
            <button type="button" id="createDatabaseButton" class="btn btn-primary">Create</button>
          </div>
        </div>
      </div>
    </div>
  </div>


  <div id="errorDialog" title="ERROR">
    <p style="color: black">You can't use CAIRIS without any settings</p>
  </div>
  <div class="popupMessage" style="display:none;" >
    <div class="Succes"><i class="fa fa-check fa-2x"></i><div class="infoText">Success</div></div>
    <div class="Fail"><i class="fa fa-exclamation fa-2x"></i><div class="infoText">Something went wrong...<p class="faultInfo"></p></div></div>
  </div>
  <div class="modal fade" id="chooseSecurityProperty" tabindex="-1" role="dialog" aria-labelledby="cSP_label" data-updatepropertylist="" data-buildproperty="" data-currentproperty="">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Choose security property</h4>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="theSecurityPropertyName" class="control-label">Property</label>
            <select class="optionsInput form-control" name="theSecurityPropertyName" id="theSecurityPropertyName" style="width: 75%;" required>
            </select>
          </div>
          <div class="form-group">
            <label for="theSecurityPropertyValue" class="control-label">Value</label>
            <select class="optionsInput form-control" style="width: 75%;" name="theSecurityPropertyValue" id="theSecurityPropertyValue">
              <option>None</option>
              <option>Low</option>
              <option>Medium</option>
              <option>High</option>
            </select>
          </div>
          <div class="form-group">
            <label for="theSecurityPropertyRationale" class="control-label">Rationale</label>
            <textarea rows="5" class="optionsInput form-control" name="theSecurityPropertyRationale" id="theSecurityPropertyRationale" data-error="Rationale not provided" required> </textarea>
            <div class="help-block with-errors"></div>
          </div>
        </div>
        <div class="modal-footer">
          <div class="form-group col-md-2 col-md-offset-5">
            <button type="button" id="saveSecurityProperty" class="btn btn-primary">Save</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="confirmObjectDelete" tabindex="-1" role="dialog" aria-labelledby="cOD_label">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Confirm object deletion</h4>
        </div>
        <div class="modal-body">
          <label class="control-label">Do you really want to delete this object?</label>
        </div>
        <div class="modal-footer">
          <div class="form-group col-md-2 col-md-offset-5">
            <button type="button" id="confirmDelete" class="btn btn-primary">Delete</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="reportObjectDependencies" tabindex="-1" role="dialog" aria-labelledby="rOD_label">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Confirm object deletion</h4>
        </div>
        <div class="modal-body">
          <label class="control-label">Removing this object will also remove the following objects.</label>
          <table id="objectDependencyTable" class="table-striped table-bordered" style="width: 100%;">
            <thead>
              <tr><th>Artifact</th><th>Name</th></tr>
            </thead>
            <tbody>
            </tbody>
          </table>
          <label class="control-label">Do you want to continue?</label>
        </div>
        <div class="modal-footer">
          <div class="form-group col-md-2 col-md-offset-5">
            <button type="button" id="confirmODDelete" class="btn btn-primary">Delete</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="traceExplorer" tabindex="-1" role="dialog" aria-labelledby="te_label">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Contributions</h4>
        </div>
        <div class="modal-body">
          <div class="container">
            <div class="row">
              <div class="col-xs-3 col-md-3">
                <div class="panel panel-default">
                <table id="dimensionTable" class="table table-bordered">
                  <thead>
                    <tr><th>Type</th></tr>
                  </thead>
                  <tbody>
                  </tbody>
                </table>
                </div>
              </div>
              <div class="col-xs-3 col-md-3">
                <div class="panel panel-default">
                <table id="valueTable" class="table table-bordered">
                  <thead>
                    <tr><th>Value</th></tr>
                  </thead>
                  <tbody>
                  </tbody>
                </table>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <div class="form-group col-md-2 col-md-offset-5">
            <button type="button" id="AddTrace" class="btn btn-primary">Add</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="editCharacteristicReference" tabindex="-1" role="dialog" aria-labelledby="cCR_label">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Edit Characteristic Reference</h4>
        </div>
        <div class="modal-body">
          <div class="form-group" id="theArtifactTypeDiv">
            <label for="theArtifactType" class="control-label">Artifact Type</label>
            <select class="optionsInput form-control" name="theArtifactType" id="theArtifactType" style="width: 75%;" required>
              <option value="document">Document</option>
              <option value="asset">Asset</option>
              <option value="attacker">Attacker</option>
              <option value="countermeasure">Countermeasure</option>
              <option value="domainproperty">Domain Property</option>
              <option value="environment">Environment</option>
              <option value="goal">Goal</option>
              <option value="misusecase">Misuse Case</option>
              <option value="obstacle">Obstacle</option>
              <option value="persona">Persona</option>
              <option value="requirement">Requirement</option>
              <option value="response">Response</option>
              <option value="risk">Risk</option>
              <option value="role">Role</option>
              <option value="task">Task</option>
              <option value="threat">Threat</option>
              <option value="usecase">Use Case</option>
              <option value="vulnerability">Vulnerability</option>
            </select>
          </div>
          <div class="form-group">
            <label for="theReferenceName" class="control-label">Reference</label>
            <select class="optionsInput form-control" style="width: 75%;" name="theReferenceName" id="theReferenceName">
            </select>
          </div>
          <div class="form-group">
            <label for="theDescription" class="control-label">Description</label>
            <textarea rows="5" class="optionsInput form-control" name="theDescription" id="theDescription" data-error="Description not provided" required> </textarea>
            <div class="help-block with-errors"></div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" id="saveCharacteristicReference" class="btn btn-primary">Save</button>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="addInterfaceDialog" tabindex="-1" role="dialog" aria-labelledby="cAID_label">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Add Interface</h4>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="theInterfaceName" class="control-label">Name</label>
          <input class="optionsInput form-control" type="text" name="theInterfaceName" id="theInterfaceName" style="width: 75%;" data-error="Interface Name is required" required>
          </select>
        </div>
        <div class="form-group">
          <label for="theInterfaceType" class="control-label">Type</label>
          <select class="optionsInput form-control" style="width: 75%;" name="theInterfaceType" id="theInterfaceType">
            <option>provided</option>
            <option>required</option>
          </select>
        </div>
        <div class="form-group">
          <label for="theAccessRight" class="control-label">Access Right</label>
          <select class="optionsInput form-control" style="width: 75%;" name="theAccessRight" id="theAccessRight">
          </select>
        </div>
        <div class="form-group">
          <label for="thePrivilege" class="control-label">Privilege</label>
          <select class="optionsInput form-control" style="width: 75%;" name="thePrivilege" id="thePrivilege">
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <div class="form-group col-md-2 col-md-offset-5">
          <button type="button" id="AddInterface" class="btn btn-primary">Add</button>
        </div>
      </div>
    </div>
  </div>
  </div>

  <div class="modal fade" id="unsupportedModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Not available</h4>
        </div>
        <div class="modal-body">
          <p>This feature has not been implemented yet.</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="noRisksModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">No Risks</h4>
        </div>
        <div class="modal-body">
          <p>Cannot create object until at least one risk has been defined.</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="toTrelloModal" tabindex="-1" role="dialog" aria-labelledby="tml" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Export to Trello</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="control-label" for="theBoard">Board</label>
          <input type="text" class="form-control" id="theToBoard" name="theToBoard">
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" id="ExportReferences">Export</button>
      </div>
    </div>
  </div>
  </div>
  <div class="modal fade" id="fromTrelloModal" tabindex="-1" role="dialog" aria-labelledby="tml" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Export to CAIRIS</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="control-label" for="theFromBoards">Board</label>
          <select class="form-control" name="theFromBoards" id="theFromBoards"></select>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" id="ExportLists">Export</button>
      </div>
    </div>
  </div>
  </div>

  <div class="modal fade" id="chooseResponseDialog" tabindex="-1" role="dialog" aria-labelledby="crrd_label">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Choose Response</h4>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="theResponse" class="control-label">Response</label>
          <select class="optionsInput form-control" name="theResponse" id="theResponse" style="width: 100%;">
            <option id="Accept">Accept</option>
            <option id="Transfer">Transfer</option>
            <option id="Mitigate">Mitigate</option>
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <div class="form-group col-md-2 col-md-offset-5">
          <button type="button" id="SelectResponseButton" class="btn btn-primary">Add</button>
        </div>
      </div>
    </div>
  </div>
</div>




  <div class="modal fade" id="weaknessAnalysisDialog" tabindex="-1" role="dialog" aria-labelledby="wad_label">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="wadTitle">Weakness Analysis</h4>
        </div>
        <div class="modal-body">
          <div class="container">
            <ul class="nav nav-tabs" id="theWeaknessAnalysisList" style="width: 45%;">
              <li class="active"><a data-target="#threats" data-toggle="tab">Threats</a></li>
              <li><a data-target="#vulnerabilities" data-toggle="tab">Vulnerabilities</a></li>
              <li><a data-target="#personaimpact" data-toggle="tab">Persona Impact</a></li>
              <li><a data-target="#obstacles" data-toggle="tab">Obstacles</a></li>
            </ul>
            <div class="tab-content">
              <div id="threats" class="tab-pane active">
                <table class="table table-responsive" id="theWeaknessAnalysisThreats" style="width:45%;">
                  <thead>
                    <tr><th>Target</th><th>Components</th><th>Asset</th></tr>
                  </thead>
                  <tbody>
                  </tbody>
                </table>
              </div>
              <div id="vulnerabilities" class="tab-pane">
                <table class="table table-responsive" id="theWeaknessAnalysisVulnerabilities" style="width: 45%;">
                  <thead>
                    <tr><th>Target</th><th>Components</th><th>Asset</th></tr>
                  </thead>
                  <tbody>
                  </tbody>
                </table>
              </div>
              <div id="personaimpact" class="tab-pane">
                <table class="table table-responsive" id="theWeaknessAnalysisPersonaImpact" style="width: 45%;">
                  <thead>
                    <tr><th>Persona</th><th>Impact</th></tr>
                  </thead>
                  <tbody>
                  </tbody>
                </table>
              </div>
              <div id="obstacles" class="tab-pane">
                <table class="table table-responsive" id="theWeaknessAnalysisObstacles" style="width: 45%;">
                  <thead>
                    <tr><th>Obstacle</th><th>Mitigating Goal</th></tr>
                  </thead>
                  <tbody>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <div class="form-group col-md-2 col-md-offset-5">
            <button type="button" id="situateArchitecturalPatternButton" class="btn btn-primary">Situate</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="loadingWrapper">
    <div class="divLoading">
    </div>
  </div>
  <script>
    var mainTabl =  $('#mainTable').editableTableWidget({editor: $('<textarea>')});
    //  if the table is been scrolled, it needs to be out of focus
    $('#maincontent').scroll(function(){
      $('#mainTable').find('td:first').focus();
      $('#mainTable').find('td:last').focus();
    });
    $("#comboboxDialog").hide();
    $("#debugID").click(function () {
        putThreat("{}", "NoName");
    })
  </script>

  <!-- REQUIRED JS SCRIPTS -->
  <!-- Slimscroll App  -->
  <script src="plugins/slimScroll/jquery.slimscroll.js" type="text/javascript"></script>
  <script>
    LazyLoad.js(["dist/js/cairis/Cairis-UI.js","dist/js/cairis/buttonclicks.js", "dist/js/cairis/Cairis.js", "dist/js/cairis/readFile.js",
        "dist/js/cairis/threats.js", "dist/js/cairis/attackers.js", "dist/js/cairis/personas.js", "dist/js/cairis/assets.js", "dist/js/cairis/templateassets.js","dist/js/cairis/templaterequirements.js","dist/js/cairis/templategoals.js","dist/js/cairis/goals.js", "dist/js/cairis/projectSettings.js", "dist/js/cairis/tasks.js", "dist/js/cairis/domainproperties.js", "dist/js/cairis/obstacles.js", "dist/js/cairis/countermeasures.js", "dist/js/cairis/usecases.js","dist/js/cairis/vulnerabilities.js","dist/js/cairis/architecturalpatterns.js","dist/js/cairis/requirements.js",
        "dist/js/cairis/risks.js", "dist/js/cairis/fileImport.js", "dist/js/cairis/fileExport.js", "dist/js/cairis/responses.js","dist/js/cairis/dependencies.js","dist/js/cairis/genDoc.js","dist/js/cairis/findobjt.js","dist/js/cairis/externaldocuments.js","dist/js/cairis/documentreferences.js","dist/js/cairis/personacharacteristics.js","dist/js/cairis/taskcharacteristics.js","dist/js/cairis/homeSettings.js","dist/js/cairis/roles.js","dist/js/cairis/environments.js","dist/js/cairis/valuetypes.js","dist/js/cairis/locations.js","dist/js/cairis/traceability.js","dist/js/cairis/chernoff.js","dist/js/cairis/conceptreferences.js",
        "dist/js/cairis/SVGhandler.js","dist/js/objects/jsonDefaultObjects.js","dist/js/cairis/assetassociations.js","dist/js/cairis/trello.js"], function () {

      console.log("All Cairis JS loaded");
    });
</script>

<!-- For the basic page, keeping it separate from the Cairis jQuery
<script src="dist/js/Cairis-UI.js" type="text/javascript"></script>
<!-- The jQuery for the pages
<script src="dist/js/Cairis.js" type="text/javascript"></script>-->

</body>
</html>
